var DraftsCtrl=["$scope","$http",function(e,t){t.defaults.headers.common["XSRF_TOKEN"]=$("#csrf").val();e.drafts=[];e.currentDraft={};e.allChecked=false;e.checked=[];e.published=false;e.pageNumber=0;e.temp=[];e.showPosts=10;e.empty=false;e.options=[{name:"Show 10 Posts",value:"10"},{name:"Show 20 Posts",value:"20"},{name:"Show 50 Posts",value:"50"},{name:"Show 100 Posts",value:"100"}];e.selectOptions=e.options;e.selectBox=10;e.getAll=function(){e.getAllDrafts(e.selectBox)};e.getAllDrafts=function(n){showLoading("Drafts","Please wait, we are loading your drafts");e.showPosts=n;var r=baseUrl+"drafts/getAllDrafts";t.get(r).success(function(t){if(t.success==true){hideLoading();if(t.data==null){e.empty=true}else{e.temp=t.data;e.len=e.temp.length;if(e.len==e.showPosts){e.drafts=[];for(var n=0;n<e.showPosts;n++){e.drafts[n]=e.temp[n]}}else if(e.len<e.showPosts){e.drafts=[];for(var n=0;n<e.len;n++){e.drafts[n]=e.temp[n]}}else if(e.len>e.showPosts){e.drafts=[];for(var n=0;n<e.showPosts;n++){e.drafts[n]=e.temp[n]}}}}else{hideLoading();if(t.data==null){e.empty=true}else if(t.error.msg=="User Not Logged in"){window.location.href=baseUrl+"login/logout"}}})};e.singleDraft=function(t){e.currentDraft=t;console.log(e.currentDraft)};e.selectAll=function(){if(e.allChecked){for(var t=0;t<e.drafts.length;t++){e.checked[t]=false}}else{for(var t=0;t<e.drafts.length;t++){e.checked[t]=true}}};e.singleChecked=function(t){if(e.allChecked){if(e.checked[t]){e.allChecked=false}}};e.deletePosts=function(){showLoading("Drafts","Please wait, we are deleting your drafts.");var n=e.drafts.length;for(var r=0;r<n;r++){if(e.checked[r]){var i=e.checked.length;var s=e.drafts[r].id;var o=baseUrl+"drafts/deleteDrafts?id="+s;t.get(o).success(function(t){e.deleted=true});e.drafts.splice(r,1)}}e.deletedMessage="The drafts you selected have been successfully deleted";e.getAllDrafts()};e.publishPosts=function(){showLoading("Drafts","Please wait, we are publishing your Posts");for(var n=0;n<e.drafts.length;n++){if(e.checked[n]){var r=e.drafts[n].id;var i=baseUrl+"drafts/publishDraft?id="+r;e.drafts.splice(n,1);t.get(i).success(function(t){e.drafts=t.data;e.published=true});e.$apply()}}e.publishMessage="The drafts you selected have been published";e.getAllDrafts()};e.getAllDrafts(10)}]