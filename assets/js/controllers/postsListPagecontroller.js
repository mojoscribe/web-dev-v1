var PostListCtrl=["$scope","$http",function(e,t){t.defaults.headers.common["XSRF_TOKEN"]=$("#csrf").val();e.posts=[];e.showImage=false;e.showVideo=false;e.showPosts=10;e.checked=[];e.deleted=false;e.published=false;e.empty=false;e.options=[{name:"Show 10 Posts",value:"10"},{name:"Show 20 Posts",value:"20"},{name:"Show 50 Posts",value:"50"},{name:"Show 100 Posts",value:"100"}];e.selectOptions=e.options;e.selectBox=10;e.getAll=function(){e.getAllPosts(e.selectBox)};e.getAllPosts=function(n){e.showPosts=n;var r=baseUrl+"post/getAllPosts";t.get(r).success(function(t){if(t.success==true){if(t.data==null){e.empty=true}if(false==e.empty){e.temp=t.data.posts;for(var n=0;n<e.temp.length;n++){if(e.temp[n].postType=="Image"){e.showImage=true;e.temp[n]["showImage"]=e.showImage;e.showVideo=false}else{e.showVideo=true;e.showImage=false;e.temp[n]["showVideo"]=e.showVideo}}e.len=e.temp.length;if(e.len==e.showPosts){e.posts=[];for(var n=0;n<e.showPosts;n++){e.posts[n]=e.temp[n]}}else if(e.len<e.showPosts){e.posts=[];for(var n=0;n<e.len;n++){e.posts[n]=e.temp[n]}}else if(e.len>e.showPosts){e.posts=[];for(var n=0;n<e.showPosts;n++){e.posts[n]=e.temp[n]}}}}else{if(t.data==null){e.empty=true}}})};e.deletePosts=function(){for(var n=0;n<e.posts.length;n++){if(e.checked[n]){var r=e.posts[n].id;var i=baseUrl+"post/deletePosts?id="+r;e.posts.splice(n,1);t.get(i).success(function(t){e.deleted=true})}}e.deletedMessage="The posts you selected have been successfully deleted"};e.unpublishPosts=function(){for(var n=0;n<e.posts.length;n++){if(e.checked[n]){var r=e.posts[n].id;var i=baseUrl+"post/unpublishPosts?id="+r;e.posts.splice(n,1);t.get(i).success(function(t){e.published=true});e.$apply()}}e.publishMessage="The drafts you selected have been unpublished"};e.getAllPosts(10)}]